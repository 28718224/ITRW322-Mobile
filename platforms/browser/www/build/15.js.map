{"version":3,"sources":["../../src/pages/buddies/buddies.module.ts","../../src/pages/buddies/buddies.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { BuddiesPage } from './buddies';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BuddiesPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(BuddiesPage),\r\n  ],\r\n  exports: [\r\n    BuddiesPage\r\n  ]\r\n})\r\nexport class BuddiesPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/buddies/buddies.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\r\nimport { UserProvider } from '../../providers/user/user';\r\nimport { RequestsProvider } from '../../providers/requests/requests';\r\nimport { connreq } from '../../models/interfaces/request';\r\nimport firebase from 'firebase';\r\n/**\r\n * Generated class for the BuddiesPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-buddies',\r\n  templateUrl: 'buddies.html',\r\n})\r\nexport class BuddiesPage {\r\n  newrequest = {} as connreq;\r\n  temparr = [];\r\n  filteredusers = [];\r\n  searchstring;\r\n  constructor(public navCtrl: NavController, public navParams: NavParams,\r\n    public userservice: UserProvider, public alertCtrl: AlertController,\r\n    public requestservice: RequestsProvider) {\r\n    this.userservice.getallusers().then((res: any) => {\r\n      this.filteredusers = res;\r\n      this.temparr = res;\r\n   })\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n\r\n  }\r\n\r\n  searchuser(searchbar) {\r\n    this.filteredusers = this.temparr;\r\n    var q = searchbar.target.value;\r\n    if (q.trim() == '') {\r\n      return;\r\n    }\r\n\r\n    this.filteredusers = this.filteredusers.filter((v) => {\r\n      if (v.displayName.toLowerCase().indexOf(q.toLowerCase()) > -1) {\r\n        return true;\r\n      }\r\n      return false;\r\n    })\r\n  }\r\n\r\n  sendreq(recipient) {\r\n    this.newrequest.sender = firebase.auth().currentUser.uid;\r\n    this.newrequest.recipient = recipient.uid;\r\n    if (this.newrequest.sender === this.newrequest.recipient)\r\n      alert('You are your friend always');\r\n    else {\r\n      let successalert = this.alertCtrl.create({\r\n        title: 'Request sent',\r\n        subTitle: 'Your request was sent to ' + recipient.displayName,\r\n        buttons: ['ok']\r\n      });\r\n\r\n      this.requestservice.sendrequest(this.newrequest).then((res: any) => {\r\n        if (res.success) {\r\n          successalert.present();\r\n          let sentuser = this.filteredusers.indexOf(recipient);\r\n          this.filteredusers.splice(sentuser, 1);\r\n        }\r\n      }).catch((err) => {\r\n        alert(err);\r\n      })\r\n    }\r\n  }\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/buddies/buddies.ts"],"sourceRoot":""}