{"version":3,"sources":["../../src/pages/commands/commands.module.ts","../../src/pages/commands/commands.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CommandsPage } from './commands';\n\n@NgModule({\n  declarations: [\n    CommandsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CommandsPage),\n  ],\n  exports: [\n    CommandsPage\n  ]\n})\nexport class CommandsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/commands/commands.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, ActionSheet, ActionSheetController } from 'ionic-angular';\nimport { UserProvider } from '../../providers/user/user';\nimport { RequestsProvider } from '../../providers/requests/requests';\nimport { CommandProvider } from '../../providers/command/command';\nimport { connreq } from '../../models/interfaces/request';\nimport firebase from 'firebase';\n\n/**\n * Generated class for the CommandsPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-commands',\n  templateUrl: 'commands.html',\n})\nexport class CommandsPage {\n\n  newrequest = {} as connreq;\n  temparr = [];\n  filteredusers = [];\n  searchstring;\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public userservice: UserProvider, public alertCtrl: AlertController,\n    public requestservice: RequestsProvider,public actionSheet:ActionSheetController,\n    public commandProvider: CommandProvider) {\n    this.userservice.getallusers().then((res: any) => {\n      this.filteredusers = res;\n      this.temparr = res;\n   })\n  }\n\n  ionViewDidLoad() {\n\n  }\n\n  searchuser(searchbar) {\n    this.filteredusers = this.temparr;\n    var q = searchbar.target.value;\n    if (q.trim() == '') {\n      return;\n    }\n\n    this.filteredusers = this.filteredusers.filter((v) => {\n      if (v.displayName.toLowerCase().indexOf(q.toLowerCase()) > -1) {\n        return true;\n      }\n      return false;\n    })\n  }\n\n  sendcomm(recipient, cmd) {\n    this.newrequest.sender = firebase.auth().currentUser.uid;\n    this.newrequest.recipient = recipient.uid;\n\n      let successalert = this.alertCtrl.create({\n        title: 'Command sent',\n        subTitle: 'Your command was sent to ' + recipient.displayName + 'a report on the command success should be in shortly',\n        buttons: ['ok']\n      });\n\n      this.commandProvider.sendcommand(this.newrequest,cmd).then((res: any) => {\n        if (res.success) {\n          successalert.present();\n\n        }\n      }).catch((err) => {\n        alert(err);\n      })\n\n  }\n\n  presentCommandOptions(receiver) {\n    let sheet = this.actionSheet.create({\n      title: 'List of Commands',\n      buttons: [\n        {\n          text: 'Shut Down PC',\n          icon: 'ios-power',\n          handler: () => {\n\n            this.sendcomm(receiver, \"ShutDown\");\n          }\n        },\n        {\n          text: 'Sleep PC',\n          icon: 'medkit',\n          handler: () => {\n            this.sendcomm(receiver, \"Sleep\");\n          }\n        },\n        {\n          text: 'Display Popup',\n          icon: 'happy',\n          handler: () => {\n            let alert = this.alertCtrl.create({\n              title: 'Message',\n              inputs: [\n                {\n                  name: 'Message',\n                  placeholder: 'Message'\n                }],\n                buttons: [\n                  {\n                    text: 'Send message',\n\n                    handler: data => {\n                      this.sendcomm(receiver, \"ShowPopup=\" +data.username);\n                    }\n                  }]});\n                  alert.present();\n          }\n        },\n        {\n          text: 'View files of PC(Only if pc is on)',\n          icon: 'folder',\n          handler: () => {\n            this.sendcomm(receiver, \"ShowFileStructure\");\n          }\n        }, {\n          text: 'Cancel',\n          icon: 'close',\n          role: 'cancel',\n        }\n      ]\n    })\n    sheet.present();\n  }\n\n\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/commands/commands.ts"],"sourceRoot":""}