{"version":3,"sources":["../../src/pages/commands/commands.module.ts","../../src/pages/commands/commands.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { CommandsPage } from './commands';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CommandsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(CommandsPage),\r\n  ],\r\n  exports: [\r\n    CommandsPage\r\n  ]\r\n})\r\nexport class CommandsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/commands/commands.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, AlertController, ActionSheet, ActionSheetController } from 'ionic-angular';\r\nimport { UserProvider } from '../../providers/user/user';\r\nimport { RequestsProvider } from '../../providers/requests/requests';\r\nimport { CommandProvider } from '../../providers/command/command';\r\nimport { connreq } from '../../models/interfaces/request';\r\nimport firebase from 'firebase';\r\n\r\n/**\r\n * Generated class for the CommandsPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-commands',\r\n  templateUrl: 'commands.html',\r\n})\r\nexport class CommandsPage {\r\n\r\n  newrequest = {} as connreq;\r\n  temparr = [];\r\n  filteredusers = [];\r\n  searchstring;\r\n  constructor(public navCtrl: NavController, public navParams: NavParams,\r\n    public userservice: UserProvider, public alertCtrl: AlertController,\r\n    public requestservice: RequestsProvider,public actionSheet:ActionSheetController,\r\n    public commandProvider: CommandProvider) {\r\n    this.userservice.getallusers().then((res: any) => {\r\n      this.filteredusers = res;\r\n      this.temparr = res;\r\n   })\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n\r\n  }\r\n\r\n  searchuser(searchbar) {\r\n    this.filteredusers = this.temparr;\r\n    var q = searchbar.target.value;\r\n    if (q.trim() == '') {\r\n      return;\r\n    }\r\n\r\n    this.filteredusers = this.filteredusers.filter((v) => {\r\n      if (v.displayName.toLowerCase().indexOf(q.toLowerCase()) > -1) {\r\n        return true;\r\n      }\r\n      return false;\r\n    })\r\n  }\r\n\r\n  sendcomm(recipient, cmd) {\r\n    this.newrequest.sender = firebase.auth().currentUser.uid;\r\n    this.newrequest.recipient = recipient.uid;\r\n\r\n      let successalert = this.alertCtrl.create({\r\n        title: 'Command sent',\r\n        subTitle: 'Your command was sent to ' + recipient.displayName + ' the user has the option to accept or decline the command. Report backs will be added in later updates',\r\n        buttons: ['ok']\r\n      });\r\n\r\n      this.commandProvider.sendcommand(this.newrequest,cmd).then((res: any) => {\r\n        if (res.success) {\r\n          successalert.present();\r\n\r\n        }\r\n      }).catch((err) => {\r\n        alert(err);\r\n      })\r\n\r\n  }\r\n\r\n  presentCommandOptions(receiver) {\r\n    let sheet = this.actionSheet.create({\r\n      title: 'List of Commands',\r\n      buttons: [\r\n        {\r\n          text: 'Shut Down (Immediate))',\r\n          icon: 'ios-power',\r\n          handler: () => {\r\n\r\n            this.sendcomm(receiver, \"ShutDown\");\r\n          }\r\n        },\r\n        {\r\n          text: 'Shut Down with Timer',\r\n          icon: 'sad',\r\n          handler: () => {\r\n            let alert = this.alertCtrl.create({\r\n              title: 'Message',\r\n              inputs: [\r\n                {\r\n                  name: 'Message',\r\n                  placeholder: 'Time till restart in seconds'\r\n                }],\r\n                buttons: [\r\n                  {\r\n                    text: 'Send command',\r\n\r\n                    handler: data => {\r\n                      this.sendcomm(receiver, \"ShutDown=\" +data.Message);\r\n                    }\r\n                  }]});\r\n                  alert.present();\r\n          }\r\n        },\r\n        {\r\n          text: 'Sleep PC',\r\n          icon: 'medkit',\r\n          handler: () => {\r\n            this.sendcomm(receiver, \"Sleep\");\r\n          }\r\n        },{\r\n          text: 'Open file',\r\n          icon: 'folder-open',\r\n          handler: () => {\r\n            let alert = this.alertCtrl.create({\r\n              title: 'Filep Path',\r\n              inputs: [\r\n                {\r\n                  name: 'File_path',\r\n                  placeholder: 'pATH'\r\n                }],\r\n                buttons: [\r\n                  {\r\n                    text: 'Send command',\r\n\r\n                    handler: data => {\r\n                      this.sendcomm(receiver, \"Openfile=\" +data.File_path);\r\n                    }\r\n                  }]});\r\n                  alert.present();\r\n          }\r\n        },\r\n        {\r\n          text: 'Display Popup',\r\n          icon: 'happy',\r\n          handler: () => {\r\n            let alert = this.alertCtrl.create({\r\n              title: 'Message',\r\n              inputs: [\r\n                {\r\n                  name: 'Message',\r\n                  placeholder: 'Message'\r\n                }],\r\n                buttons: [\r\n                  {\r\n                    text: 'Send message',\r\n\r\n                    handler: data => {\r\n                      this.sendcomm(receiver, \"ShowPopup=\" +data.Message);\r\n                    }\r\n                  }]});\r\n                  alert.present();\r\n          }\r\n        },\r\n        {\r\n          text: 'View files of PC(Only if pc is on)',\r\n          icon: 'folder',\r\n          handler: () => {\r\n            this.sendcomm(receiver, \"ShowFileStructure\");\r\n          }\r\n        }, {\r\n          text: 'Cancel',\r\n          icon: 'close',\r\n          role: 'cancel',\r\n        }\r\n      ]\r\n    })\r\n    sheet.present();\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/commands/commands.ts"],"sourceRoot":""}